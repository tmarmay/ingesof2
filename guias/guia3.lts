const MAX = 4
range T = 0..MAX

FORK = (get -> put -> FORK).
PHIL = (sitdown ->right.get->left.get
        ->eat ->right.put->left.put
        ->arise->PHIL).

property BUTLER = BUTLER[0],
BUTLER[i:0..4] = (when (i < 4) phil[T].sitdown -> BUTLER[i+1]
				| when (i > 0) phil[T].arise -> BUTLER[i-1]).

||DINERS(N=5)= forall [i:0..N-1] (phil[i]:PHIL || {phil[i].left,phil[((i-1)+N)%N].right}::FORK || BUTLER).
